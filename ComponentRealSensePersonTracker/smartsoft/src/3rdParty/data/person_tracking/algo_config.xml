<?xml version="1.0" encoding="utf-8" standalone="no"?>
<PersonTracking>
  <DefaultValues>
    <TrackingConfigurationImpl>
      <TrackerDefaultMode value="Following"/>
      <!--options: Following, Interactive, SinglePerson-->
    </TrackingConfigurationImpl>
  </DefaultValues>

  <AlgosConfiguration headMode="classifier" powerSaveMode="true">
    <!-- face / classifier -->
    <ImagePreProcessor>
    </ImagePreProcessor>
    <Detection>
      <PersonScoreManager>
        <DetectionAgingPerFrame value="2" />
        <TrackingNonTrackedPersonScoreToDeleteID value="-400"/>
        <DetectionScoreToDeleteID value="-200"/>
        <TrackingAgingPerFrame value="1" />
        <TrackingMaxScore value="100" />
        <TrackingReinitScore value="40" />
        <TrackingAgingPerFrameForNonTracked value="2" />
        <TrackingScoreToRemoveTracker value="20" />
        <!--score to stop and remove tracker and start detection flow-->
        <TrackingScoreToDeleteID value="-350" />
        <!--score to stop and remove tracker and start detection flow-->
        <TrackingTrackerMinScore value="30" />
        <!--score where flow going from tracking to detection flow to try to upgrade score-->
        <TrackingMinScoreToReturnPerson value="5" />
        <!--min score to present person in output-->
      </PersonScoreManager>
      <TrackingFlowManager>
        <SmoothingCOMSize value="3" />
        <UseCOMSmoothing value="true" />
        <MaxClassifiersToSkip value="3" />
        <ds4>
          <HistogramThreshold defaultMode="80" singlePersonMode="70"/>
        </ds4>
        <ds5>
          <HistogramThreshold defaultMode="84" singlePersonMode="70"/>
        </ds5>
        <UseOPForTracking value="true" />
        <UseStabilityRectangle value="true"/>
        <SwitchCamera tracking="false" detectLostPersons="false" detection="false">
          <PlatformToDsRange value="1500"/>
          <DSToPlatfromRange value="1000"/>
        </SwitchCamera>
      </TrackingFlowManager>
      <DetectionFlowManager>
        <FrameToRunFaceDetection value="25" />
        <FrameToRunFaceDetectionInLowPowerMode value="75" />
        <FrameToRunFullClassifier value="13" />
        <FrameToRunLostClassifier value="3" />
        <FramesToDetectWhenAllTrackersHealthy value="5" />
        <FramesToDetectWhenMainTrackerHealthy value="5" />
        <MaxOcclusionToInit value="0.2" />
        <RoiIncreaseMultiplier value="2.4" />
        <RoiIncreaseValue value="0.95" />
        <EnableDetectionByRoi value ="true" />
        <MaxClassifierSkippedFrames value="100"/>
        <MaxBodyPartsDetectionClassifierSkippedFrames value="0"/>
        <MaxClassifierSkippedFramesToRemoveTracker value="200"/>
        <TrackingIdUnderDetection value="false"/>
        <PersonMatcher>
          <FaceMaxAllowedDistance value="2500"/>
          <OPScoreAddition value="true"/>
          <OPScoreAdditionWhileSaturation value="true"/>
          <MaxOcclusionToUpateHistogram value="0.1"/>
          <ReinitFromOPReductionFactor value="5.0"/>
          <RectMatchInXToSkipHistogram value="0.8"/>
          <!-- 15.0-->
        </PersonMatcher>
        <UseStabilityRectangle value="true"/>
      </DetectionFlowManager>

      <PersonDetector useOriginalSizeInFullFrame="false">
        <MaxSize mode="Light" width="160" height="120" />
        <MaxSize mode="Light" width="320" height="180"/>
        <MaxSize mode="Default" width="480" height="360"/>
        <MaxSize mode="Default" width="960" height="540"/>

        <Classifiers>
          <Config>
            <EarlyExit percentage="11"/>
            <DepthHeightToIgnore min="500" max="2000"/>
            <ds4>
              <depthClassifierInDetection enable="false"/>
              <depthClassifierInTracking enable="false"/>
            </ds4>
            <ds5>
              <depthClassifierInDetection enable="false"/>
              <depthClassifierInTracking enable="true"/>
            </ds5>            
          </Config>
          <UpperBodyRGB>
            <FileName value="UpperBodyMSFloatLUVSmallDiffs08122016DS5Rotation05_new.bin"/>
            <HardThresholdAdaptation value="1"/>
            <SoftThresholdAdaptation value="1.1"/>
            <RunInFullFrame value="true" />
          </UpperBodyRGB>
          <HeadShouldersRGB>
            <FileName value="HeadShouldersMS07062016_new.bin"/>
            <HardThresholdAdaptation value="1.1"/>
            <SoftThresholdAdaptation value="1"/>
            <RunInFullFrame value="false" />
          </HeadShouldersRGB>
          <HeadlessRGB>
            <FileName value="HeadlessMS_05102016_new.bin"/>
            <HardThresholdAdaptation value="1.2"/>
            <SoftThresholdAdaptation value="1"/>
            <RunInFullFrame value="false" />
          </HeadlessRGB>
          <LowerBodyRGB>
            <FileName value="LowerBodyMS_05102016_new.bin"/>
            <HardThresholdAdaptation value="1.8"/>
            <SoftThresholdAdaptation value="1"/>
            <RunInFullFrame value="false" />
          </LowerBodyRGB>
          <HeadLyingRGB>
            <FileName value="HeadLyingMS28092016_new.bin"/>
            <HardThresholdAdaptation value="0.5"/>
            <SoftThresholdAdaptation value="0.5"/>
            <RunInFullFrame value="false" />
          </HeadLyingRGB>
          <UpperBodyDepth>
            <FileName value="UpperBodyDepthMs23062016_new.bin"/>
            <HardThresholdAdaptation value="2.5"/>
            <SoftThresholdAdaptation value="1"/>
            <RunInFullFrame value="true" />
          </UpperBodyDepth>
        </Classifiers>

        <ROIResizer>
          <BufferSize width="480" height="360"/>
          <TrackerRoiAdjustment>
            <MinMultiplier value="0.6" />
            <MaxMultiplier value="1.0" />
            <MinTrackingScore value="1" />
            <MaxTrackingScore value="100" />
          </TrackerRoiAdjustment>

          <ROIScanParams source="UpperBodyRGB" heightIncreaser="1" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.7" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="HeadShouldersRGB" heightIncreaser="1.25" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.3" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="HeadlessRGB" heightIncreaser="2" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.3" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="LowerBodyRGB" heightIncreaser="2" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.3" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="UpperBodyDepth" heightIncreaser="1" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.3" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="FaceDetection" heightIncreaser="1" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.5" lowerScaleRange="4" higherScaleRange="4" saveRatio="true"/>
          <ROIScanParams source="BlobTorso" heightIncreaser="2" horizontalScanAreaRatio="2.2" verticalScanAreaRatio="1.5" lowerScaleRange="3" higherScaleRange="5" saveRatio="true"/>
          <ROIScanParams source="BlobUpperBody" heightIncreaser="1" horizontalScanAreaRatio="1.5" verticalScanAreaRatio="1.3" lowerScaleRange="3" higherScaleRange="3" saveRatio="true"/>
          <ROIScanParams source="DepthTracker" heightIncreaser="1" horizontalScanAreaRatio="2.2" verticalScanAreaRatio="2" lowerScaleRange="3" higherScaleRange="9" saveRatio="false"/>
          <ROIScanParams source="ObjectProposal" heightIncreaser="1" horizontalScanAreaRatio="1.5" verticalScanAreaRatio="1.3" lowerScaleRange="6" higherScaleRange="3" saveRatio="false"/>
          <ROIScanParams source="Default" heightIncreaser="1" horizontalScanAreaRatio="2" verticalScanAreaRatio="1.3" lowerScaleRange="4" higherScaleRange="4" saveRatio="true"/>
        </ROIResizer>

        <Pyramid>
          <Octaves>
            <Octave scale="1.0"/>
            <Octave scale="0.5"/>
            <Octave scale="0.25"/>
            <Octave scale="0.125"/>
          </Octaves>
          <Padding width="3" height="2"/>
        </Pyramid>

        <Detectors>
          <ScoreNormalization value="40"/>

          <Detector name="NewPersonDetector">
          </Detector>

          <Detector name="TrackedPersonDetector">
            <NotOccludedThreshold value="0.1"/>
            <AdvancedRectMatching value="false"/>
          </Detector>

          <Detector name="LostPersonDetector">
          </Detector>

          <Detector name="HorizontalPersonDetector">
            <NeedMoreInfoThreshold value ="50"/>
          </Detector>
        </Detectors>

        <PersonFaceDetection>
        </PersonFaceDetection>

        <RectangleContainer>
          <CandidateCloseDistance value="200"/>
          <CandidateDistanceToIgnore value="900"/>
          <OverlappedRectsThreshold value="0.4"/>
          <MatchingThresholdX value="0.9"/>
          <MatchingThresholdY value="0.4"/>
        </RectangleContainer>

        <PersonFinder>
          <OverlappedRectsThreshold value="0.75"/>
          <OverlappedRectsWithHistogramThreshold value="0.4"/>
          <MatchingThresholdX value="0.7"/>
          <MatchingThresholdY value="0.4"/>
        </PersonFinder>

      </PersonDetector>

      <ObjectProposal>
        <FilterByHead value="false" />
        <ImproveDepth value="false" />
        <HeadDetector>
          <Enabled value="true" />
          <Threshold value="0.12" />
          <HistDistMethod value="3" />
          <ds4>
            <PerformOverlapp value="true" />
            <BorderRegionThreshold low="1000" high="300" />
            <FlatRegionThreshold low="200" high="30" />
          </ds4>
          <ds5>
            <PerformOverlapp value="false" />
            <BorderRegionThreshold low="400" high="300" />
            <FlatRegionThreshold low="40" high="30" />
          </ds5>
        </HeadDetector>
      </ObjectProposal>

      <BlobDetector>
        <frameRateProcess value = "1"/>
        <!-- blobMethod: 2-flood-fill, 3-gradual flood-fill, 4-compare -->
        <blobMethod value = "3" />
        <ds4>
          <blobComplementFromRGB value = "true" />
          <!-- Cut cm below center-of-mass point. 75cm is arm length. -->
          <rangeBelowCOM value = "150"/>
        </ds4>
        <ds5>
          <blobComplementFromRGB value = "false" />
          <rangeBelowCOM value = "75"/>
        </ds5>
        <returnOnSanityFailure value = "false" />
        <useHistory value = "true" />
        <!-- DO NOT CHANGE!! unless the camera does not have the option to move -->
        <staticCamera value = "false" />        
        <allowCameraMovement value ="false" />
        <useSkeletonFromBlob value = "true" />
        <improveDepth value = "false" />
        <DepthQualityFraction value = "0.6"/>
        <improveDepthDownscale value = "2" />
        <!-- Ratio for body borders -->
        <torsoRatioHeightToWidth value = "1.5"/>
        <COMfromTorso value = "false" />
        <FFGradual_widthArmFraction value = "0.15"/>
        <FFGradual_heightArmFraction value = "0.7"/>
        <FFGradual_sideDiff value = "3"/>
        <FFGradual_widthArmFraction_partial value = "0.15"/>
        <!-- Limit depth range according to input rectangle depth histogram, for removing far components -->
        <limitDepthRange value = "false" />
        <!-- Use Limit depth range for dubug purposes ONLY -->
        <useLimitForSegmentation value = "false" />
        <!-- disregarding arms, just for torso -->
        <removeFarComponentsThreshold value = "0.01"/>
        <headBodyBinsDiff value = "10" />
        <handsBodyBinsDiff value = "28" />
        <TorsoDetector>
          <!-- Fixed height for torso - instead of using torsoRatioHeightToWidth -->
          <torsoHeightCM value = "65" />
        </TorsoDetector>
        <HeadDetector>
          <Enabled value="true" />
          <Threshold value="0.12" />
          <HistDistMethod value="3" />
        </HeadDetector>
        <PersonMaskPreprocessing>
          <!-- Temporal - later on receive in real-time  -->
          <cameraAngle value="25" />
          <!-- In mm. If >=100 - ignoring. - Currently not in use. -->
          <cameraHeight value="100" />
          <!-- depth diff in mm. From floor: 350, otherwise: 100 -->
          <startPointDistFromCOM value="350" />
          <!-- flood-fill low/high values in m_depth8U units, 1unit=2cm -->
          <FF_lowDiff_iter1 value="36" />
          <FF_highDiff_iter1 value="4" />
          <FF_lowDiff_iter2 value="36" />
          <FF_highDiff_iter2 value="38" />
          <addToMaxRangeVal value="9" />
          <subtractFromMinRangeVal value = "3"/>
          <!-- A tradeoff - need to be high (~0.04) to include back arm, need to be low (~0.003) to remove background.-->
          <RemoveFarComponentsThreshold value = "0.04"/>          
          <placePointOnDepth value="true" />
        </PersonMaskPreprocessing>
        <History>
          <maxFramesBack value = "10" />
          <allowedCmPerSecBody value = "50.0" />
          <allowedCmPerSecArm value = "200.0" />
        </History>
        <ColorCompletion>
          <maxMmSameBlobBack  value = "500"/>
          <maxMmSameBlobFront  value = "800"/>  
        </ColorCompletion>
      </BlobDetector>

      <PersonFilter>
        <ReductionPerFrame value="20" />
        <!-- temp cannot be configured from here -->
        <ObjectProposalScore value="30" />
        <HeadDetectionScore value="60" />
        <!-- multiplied by confidence - hence becoming smaller -->
        <ScoreToClassify value="100" />
      </PersonFilter>

      <AdvancedTracker>
        <TrackerThresh value="4"/>
        <TrackerMinThresh value="0.1"/>
        <TrackerFailureThresh value="0.4"/>
        <TrackerMinThreshToUpdateHistogram value="4"/>
        <Descriptor value="1"/>
        <!-- option values  0 - Gray, 1- CN, 2 - CN2 -->
        <Resize value="true"/>
        <RoiMinSize value="32"/>
        <HistRate value="15"/>
        <TestMode value="false"/>
        <TestOutputFile value="C:\\Temp\\dumpTrackRect.csv"/>
        <GroundTruth value="\\ger\ec\proj\ha\perc\3D_ValidationVol2\for ziv\Sri Lanka\All RSSDK Files\IDC\People\Home Recordings\GT_rect\ron_RectWithHeadWide.csv"/>
        <StartFrame value="30"/>
        <LowerScoreWhenOutFOV value="false"/>
        <MinFramesToDropScoreAfterReinitFailed value="40"/>
        <MaxOcclusionToUpateHistogram value="0.1"/>
        <minOcclusionPercentageToPreventInit value="0.3"/>
        <minOcclusionPercentageToStopTracker value="0.3"/>
        <UseTorso value="false"/>
        <RGBVDepthThresh value="0.25"/>
        <RGBDepthOverlap value="0.2"/>
        <RGBDepthWidthOverlap value="0.5"/>
        <RGBDepthHeightOverlap value="0.4"/>
        <DepthReinitThresh value="0.2"/>
        <useDepthTracker value="true"/>
        <EnableMultiTrackerFusion value = "true"/>
        <OccDiffZeroThresh value="0.05"/> 
        <OccDiffOneThresh value="0.5"/>
        <OccDiffLogisticSlope value="20"/>
        <OccDiffLogisticBias value ="0.25"/>
      </AdvancedTracker>

      <HorizontalObjectDetector>
        <PersonStartHeightYPlane value ="50"/>
        <PersonHeightYPlane value ="200"/>
        <MinDepthThreshold value="400"/>
        <MaxDepthThreshold value="3000"/>
        <MinBlobSize value="1000"/>
        <NumFrameMarginPixels value="5"/>
        <CloudSamplingStep value="1"/>
        <MinPersonHeight value="650"/>
        <MaxPersonHeight value="2000"/>
        <MinPersonWidth value="200"/>
        <MaxPersonWidth value="1200"/>
        <RoiMarginFactor value="0.3"/>
        <MaxValidDepthVal value="4000"/>
        <FloodFillMaskVal value="20000"/>
        <FloodFillBackThreshold value="50"/>
        <FloodFillFrontThreshold value="45"/>
        <PCAminNumPointsFactor value = "0.1"/>
        <EdgeHisteresisLowThreshold value ="50"/>
        <EdgeHisteresisHighThreshold value ="95"/>
        <numSTDsPerAxis value = "1.7"/>
        <UseDepthSegmentation value ="true"/>
        <MaskRatioThresholdFarX value ="2000"/>
        <MaskRatioThresholdFarY value ="0.3"/>
        <MaskRatioThresholdNearX value ="1500"/>
        <MaskRatioThresholdNearY value ="0.55"/>
      </HorizontalObjectDetector>
      <PersonColorMatcher>
        <ds4>
          <HistJointThr value="90"/>
          <UseTorso value="true"/>
          <DepthAligned value="false"/>
        </ds4>
        <ds5>
          <HistJointThr value="94"/>
          <UseTorso value="false"/>
          <DepthAligned value="true"/>
        </ds5>
      </PersonColorMatcher>

      <OcclusionDetector
        occlusionAlgo="1" c0="1 - for 1D (depth) version, 3 for 3D version"
        preFilterDepthImage="1"
        runEveryXFrames="2"
        pixelRatioMin="0.05"
        depthPixelRatioMin="0.3"
        minOverlap="0.50"
        maxEllipsDist="0.50"
        histSize="90" c1="bins of 5 cm between 500 mm and 5000 mm"
        histogramMinDepth="500"
        histogramMaxDepth="5000"
        minPercentageForOcclusion_modeDetection="0.4"
        minPercentageForOcclusion_modeTracking="0.5"
        TotalVarCleanThresh="500.0"
        OccMinRoiSize="48"
        halfElargeFactor="0.1" c2="roi in depth image expanded by 0.1 to all directions (0.2), use 0.5 if histogram type = 1"
        histogramTypeForOcclusionDetection="2" />
      <!--1-weighted histogram on full roi, 2 - histogram on ceneter of roi -->
      <DepthTracker
       numStdsOfMainEigVector="2.5"
       numStdsOfSecondaryEigVectors="3.0"
       minNumPointsInBlob= "80"
       minNumPointsInOccludingBlob= "20"
       minRectOverlapRatio= "0.3"
       occlusionRegionFactor = "0.1"
       occludingPixelThreshold = "200"
       backgroundPixelThreshold = "200"
       minDepthPixelsRatio = "0.66"  newval = " 0.75"
       scoreEllipseDistanceZeroThreshold = "1.0"  c1 =" old value 0.25, before romoving the weight of 0.25 from the center distance component"
       scoreEllipseDistanceOneThreshold = "0.05"
       scoreEllipseThreshold = "0.5"
       scoreRectOverlapZeroThreshold ="0.05"
       scoreRectOverlapOneThreshold= "0.4"
       scoreRectOverlapThreshold = "0.75"
       minWidthToHeightRatio = "0.25"  cccc="DS: was 0.2 - made stronger restriction since highet is fixed to 65 cm"
       minHeightToWidthRatio = "1.0"
       dzLabelMergeThreshold ="300.0"/>
      <OpticFlowEstimator
        minNumPoints="10"
        maxReasonableDepth="4000"
        meanDepthRectWidthPortion="0.5"
        meanDepthRectHeightPortion="0.4"
        maxValidBodyDepthChange ="300"
        applyOnceInXFrames="3"
        featuresQualityLevel="0.01"
        featuresMinDistance="5"
        featuresBlockSize="3"
        featuresUseHarris="false"
        featuresTraceMultRatio="0.04"
        featuresMaxNumPoints="200"
        roiExtension="0.1"
        roiExtensionDepthRect ="0.25"
        minCropWidth="32"
        largeMotionFactor="0.42"
        />
      <PersonOrientation
        Run="true"
        MinimumDistance="500"
        MaximumDistance="3000"
        LeftFactor="0.1"
        RightFactor="0.1"
        UpFactor="0.1"
        DownFactor="-0.5"
      />
      <SVMOrientation
        MaxQueueSize="9"/>
      <PostureProcessor>
        <SitStandClassifier
          errorThreshold="60"
          elipsoidPitchLowTH="6"
          elipsoidPitchHighTH="20"
          nHeightLowTH="0.45"
          nHeightHighTH="0.7"
          bloRectAspectRTH ="2"
          historyItemsCount="2"
          scoreHistoryLength ="5"
          validHistoryFrameRange="10"
          elpsPInvalidTH="50"
          normedCenterOfMassDTH="0.4"
          elpsRollSitTH="25"
          numXBlobBins = "50"/>
      </PostureProcessor>
    </Detection>
    
    <Skeleton>
      <!--UserSkeleton/-->
      <PersonSkeleton3>
        <GeodesicMap value="true" />
        <GeodesicMapScale value="2" />
      </PersonSkeleton3>
      <SkeletonSmoother>
        <SquaredDistanceThreshold value="22500" />
      </SkeletonSmoother>
      <SkeletonFilter>
        <HistorySize value="30"/>
        <MinimumConformingFrames value="3"/>
        <MaximumConformingDistanceSqrd value="40"/>
      </SkeletonFilter>
      <CSVWriter writeToCSV="false" csvFileName="C:\\temp\\skeleton_Pointing_back_Hanan_DayLight_Home3.csv"/>
      <!--M(ask)/S(keleon3)/C(nn)-->
      <Head>S</Head>      
      <ShoulderLeft>SM</ShoulderLeft>
      <ShoulderRight>SM</ShoulderRight>
      <HandLeft>S</HandLeft>
      <HandRight>S</HandRight>
      <CenterOfTorso>S</CenterOfTorso>
      <useCnnAsyncProcessFrame enable="true"/>
    </Skeleton>
    
    <!--pointing attribute can be: PointingDown or PointingGesture-->
    <GestureProcessor pointing="PointingDown">
      <PointingDown
        	maxDistanceErrorInPercShoulder="0.6"
					maxDistanceErrorInPerc="0.63"
	        minGeoDistance="550"
        	minDistanceFromBody="350"
	        checkHandAboveCenter="true"
        	maxDistanceFromPreFrame="100"
					scale="1000"
					framesToBecomeStable="7"
					framesToBecomeUnstable="25"
          shoulderHandRatio="1.5"
          shoulderHandRatioClosePerson="1.5"
          headHandRatio="2.3"
          headHandRatioClosePerson="1.96"
          closePersonMaxDepthMillimeters="0"
          angleThresholdDegress="60.0"
          framesToLearnShoulderDistance="20"
          useShoulderDistanceCheck="true"
					vectorSimilarityThreshold="0.9"/>
      <Wave></Wave>
    </GestureProcessor>
    <Face>
      <Detection>
        <DetectorConfig mode="Normal">
          <!--fdtype: FD_FRONTAL=0, FD_NEAR_FRONTAL=1, FD_HALF_MVIEW=2, FD_HALF_OMNI=3, FD_HALF_OMNI_MVIEW=4, FD_FULL_OMNI_MVIEW=5 -->
          <mode value="0"/>
          <!-- Fast = 0 , Accurate = 1 -->
          <detectionFreq value="30"/>
          <minz value="48"/>
          <maxz value="512"/>
          <zscale value="1.3"/>
          <fdtype value="4" />
        </DetectorConfig>
        <DetectorConfig mode="Light">
          <mode value="0" />
          <detectionFreq value="30" />
          <minz value="48" />
          <maxz value="512" />
          <zscale value="1.3" />
          <fdtype value="0" />
        </DetectorConfig>
        <BodiesFacesFinder fixBodyRect="true" paddingDeltaFactorX="2" paddingDeltaFactorY="3" translationDeltaFactorX="0" translationDeltaFactorY="-0.33"/>
        <PlatformCamera projectorType="Sizes" platformCameraPaddingFactor="3" shouldPlatformCameraUseFaces="false" depthThreshold="5000">
          <Intrinsics useInternalPlatformCameraIntrinsics="false" >
            <RotationMatrix>
              1, 0, 0,
              0, 1, 0,
              0, 0, 1
            </RotationMatrix>
            <TranslationMatrix>
              0, -87.5, 0
            </TranslationMatrix>
            <FocalLength x="3.4291150e+03f" y="3.4291150e+03f" />
            <PrincipalPoint cx="1.9963845e+03f" cy="1.5393187e+03f" />
          </Intrinsics>
          <Center a="5.9822" b="-4.1290" c="4.5304" d="-3.2767" />
          <Sizes />
        </PlatformCamera>
      </Detection>
      <Landmarks enableSmoothing="true">
        <Csdm
          modelFileDir=""
          confidenceProbability="0.05"
          smoothingFactor="0.6"
          modelFileName="shapemodel_51pnts_full.bmd">
        </Csdm>
      </Landmarks>
      <Pose>
        <PoseILC modelFileDir=""
                 modelFileName="posemodel_51pnts_full.bmd">
        </PoseILC>
        <PoseFrom2DLM
          modelArray = " 
		          -18.1650,   -16.7547,  13.4263,
		          -45.6750,   -16.7547,  20.3983,
		          18.1650,   -16.7547,  13.4263,
		          45.6750,   -16.7547,  20.3983,
		          0,   -22.1510,    -0.3665,
		          0,   -11.3584,    -8.2513,
		          0,   0.7166,   -15.2849,
		          0,  14.8426,   -22.1169,
		          -16.2190,  23.4316,    -0.3665,
		          0,  24.7966,    -8.2513,
		          16.2190, 23.4316, -0.3665"
         modelIndices = "22, 19, 25, 28, 10, 11, 12, 13, 14, 16, 18"
         algoType = "Orthographic"  >
          <!-- Orthographic or Perspective -->
          <Orthographic errorFix="false" />
          <Perspective iterations ="25" />
        </PoseFrom2DLM>
      </Pose>
      <Emotions
          modelFileDir=""
          modelFileName="fexpmodel_eeck_em5_neu_ang_hap_sad_sur_mod_basic.bmd"
          useMaximum="true"
          useTracking="false"
        >
        <ForbidEmotions>
          <Emotion name="ANGER" />
          <Emotion name="SADNESS" />
          <Emotion name="SURPRISE" />
        </ForbidEmotions>
        <PoseLimits yawMin="-15" yawMax="15" pitchMin="-30" pitchMax="10" rollMin="-10" rollMax="10" />
        <TrackingSettings confidenceThreshold="15" numLostFrames="2" />
      </Emotions>
      <CnnRecognitionEngine useGpu="false" minEyeDistanceForProcessing="25" maxEyeDistanceForProcessing="3000" faceMatchThreshold="784.6340" landmarksEngine="sdm">
        <!-- sdm, csdm -->
        <Model cmodFileName="webface8_dlface12.cmod" bmdFileName="nomean_320.bmd" />
      </CnnRecognitionEngine>
      <ColorMatchingRecognitionEngine>
        <MatchingThreshold min="80" max="90" />
      </ColorMatchingRecognitionEngine>
      <PersonRecognition>
        <Engines>
          <Engine name="CnnRecognitionEngine" />
          <!--<Engine name="ColorMatchingEngine" />-->
        </Engines>
        <RecognizerParams SimilarityThreshold="0" />
      </PersonRecognition>
    </Face>
  </AlgosConfiguration>
</PersonTracking>
